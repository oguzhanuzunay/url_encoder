<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Beko Global Tool</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />

    <style>
      #holder {
        border: 10px dashed #ccc;
        width: 300px;
        height: 300px;
        margin: 20px auto;
      }
      #holder.hover {
        border: 10px dashed #333;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand mx-5" href="#">
          <img
            src="https://www.beko.com/content/dam/selectyourcountry/images/frontend/facelift-2017/logo.svg"
            width="64"
            height="64"
            class="d-inline-block align-top"
            alt=""
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="true"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse flex-row justify-content-center"
          id="navbarNavAltMarkup"
        >
          <div class="navbar-nav w-75">
            <a id="country" class="nav-item h4 nav-link active" href="#"
              >Main
            </a>
            <a id="sku" class="nav-item text-danger h5 nav-link" href="#"
              >Sku
            </a>
            <a id="impex" class="nav-item h5 nav-link" href="#">Impex</a>
          </div>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="row" id="url_encoder">
        <div class="row mt-5">
          <div class="col-sm">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label"
                >Input</label
              >
              <textarea class="form-control" id="url" rows="3"></textarea>
            </div>
          </div>
        </div>
        <div class="row impexs">
          <div class="col-sm">
            <div class="mb-3">
              <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1"
                  >productCatalog</span
                >
                <input
                  type="text"
                  class="form-control"
                  id="impexCatalog"
                  placeholder="australia-au"
                />
              </div>
            </div>
          </div>
          <div class="col-sm">
            <div class="mb-3">
              <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Languge</span>
                <input
                  type="text"
                  class="form-control"
                  id="impexLanguge"
                  placeholder="en_AU"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="row align-content-center justify-content-center">
          <div class="col-sm">
            <div class="row justify-content-center">
              <div class="btn-group skus" role="group">
                <button
                  name="URL Encode"
                  id="convert"
                  type="submit"
                  class="btn btn-outline-primary"
                >
                  URL Encode
                </button>

                <button
                  class="btn btn-outline-primary"
                  name="Sort"
                  id="sort"
                  type="submit"
                >
                  SKU ; SKU
                </button>

                <button
                  class="btn btn-outline-primary"
                  name="SortComma"
                  id="SortComma"
                  type="submit"
                >
                  SKU , SKU
                </button>

                <button
                  class="btn btn-outline-primary"
                  id="deleteDublicate"
                  name="Delete SKU Dublicates"
                  for="btncheck3"
                >
                  Delete SKU Dublicates
                </button>
              </div>
              <div class="btn-group mt-2 impexs" role="group">
                <button
                  name='Category (;p_code;"p_name";)'
                  id="impex1"
                  value="categories"
                  type="submit"
                  class="btn btn-outline-primary impex1"
                >
                  Category (;p_code;"p_name";)
                </button>

                <button
                  class="btn btn-outline-primary"
                  name=' Category Computed Title (;p_code; "p_name
                  p_producttitletemplate";)'
                  value="computed_title"
                  id="impex2"
                  type="submit"
                >
                  Category Computed Title (;p_code; "p_name
                  p_producttitletemplate";)
                </button>
                <button
                  name='Classifaction Class (;p_code;"p_name";)'
                  id="impex1"
                  value="classification"
                  type="submit"
                  class="btn btn-outline-primary impex1"
                >
                  Classifaction Class (;p_code;"p_name";)
                </button>
                <button
                  class="btn btn-outline-primary"
                  name='Facet (;$solrIndexedType;p_name;"p_displayname";)'
                  value="facet"
                  id="impex4"
                  type="submit"
                >
                  Facet (;$solrIndexedType;p_name;"p_displayname";)
                </button>
              </div>
              <div class="btn-group mt-2 impexs" role="group">
                <button
                  class="btn btn-outline-primary"
                  name='Consumer Centric (;p_code;"p_title";"p_subtitle";)'
                  value="cons_cent"
                  id="impex3"
                  type="submit"
                >
                  Consumer Centric (;p_code;"p_title";"p_subtitle";)
                </button>
                <button
                  name='Consumer Centric Range (;p_code;"p_title";)'
                  id="impex1"
                  type="submit"
                  value="cons_cent_range"
                  class="btn btn-outline-primary impex1"
                >
                  Consumer Centric Range (;p_code;"p_title";)
                </button>
                <button
                  name='Attributes (;p_code;"p_name";)'
                  id="impex1"
                  type="submit"
                  class="btn btn-outline-primary impex1"
                  value="att"
                >
                  Attributes (;p_code;"p_name";)
                </button>
                <button
                  name=';Attributes Values (;p_code;"p_name";)'
                  id="impex1"
                  type="submit"
                  value="att_val"
                  class="btn btn-outline-primary impex1"
                >
                  Attributes Values (;p_code;"p_name";)
                </button>
              </div>
              <div class="btn-group mt-2 impexs" role="group">
                <button
                  name=';Attributes Values (;p_code;"p_name";)'
                  id="computedTitleMaker"
                  type="submit"
                  class="btn btn-outline-primary impex1"
                  value="computed_title"
                >
                  Computed Title Maker ( CaregoryID, Computed Title Set, L1, L1
                  Tra, L2, L2 Tra, L3, L3 Tra)
                </button>
              </div>

              <div class="my-2 countrys row" role="group">
                <div class="col-sm d-flex flex-row">
                  <div class="mx-5">
                    <a
                      href="https://digiport.arcelik.com/projects/SM/queues/custom/52"
                      target="_blank"
                      id="pcmImage"
                      class=""
                    >
                      <img
                        src="https://itrack.innova.com.tr/images/atlassian-jira-logo-large.png"
                        class="rounded"
                        width="200px"
                        alt="pcmI"
                      />
                    </a>
                  </div>
                  <div class="mx-5">
                    <a
                      href="https://hybris.arcelik.com/backoffice/login.zul"
                      target="_blank"
                      id="pcmImage"
                      class=""
                    >
                      <img
                        src="https://cdn.freelogovectors.net/wp-content/uploads/2018/05/sap-hybris-logo.png"
                        class="rounded"
                        width="250px"
                        alt="pcmI"
                      />
                    </a>
                  </div>
                  <div class="mx-5">
                    <a
                      href="https://control.akamai.com/apps/fast-purge/#/ccu-main"
                      target="_blank"
                      id="pcmImage"
                      class=""
                    >
                      <img
                        src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Akamai_logo.svg/1200px-Akamai_logo.svg.png"
                        class="rounded"
                        width="200px"
                        alt="pcmI"
                      />
                    </a>
                  </div>
                </div>
              </div>
              <div class="mt-2 countrys row" id="searchBoxGroup" role="group">
                <form autocomplete="off" action="/action_page.php">
                  <div class="autocomplete" style="width: 100%">
                    <input
                      id="myInput"
                      type="text"
                      name="myCountry"
                      placeholder="Country"
                    />
                  </div>
                </form>
              </div>
              <div class="mt-2 row" id="animation" role="group">
                <img src="Ripple-1s-200px.svg" height="350px" />
              </div>
              <div class="mt-2 countrys row" id="countryGroup" role="group">
                <div class="col-sm d-flex flex-row">
                  <a href="#" target="_blank" id="countryFlagUrl">
                    <img
                      src=""
                      class="rounded"
                      id="countryFlag"
                      width="300px"
                      alt="flag"
                      ss="https://www.elasticpath.com/sites/default/files/2020-05/CMS_Page_Adobe_Experience_Manager_Logo.png"
                    />
                  </a>
                  <div class="d-flex p-2 flex-column">
                    <div class="d-flex p-2 bd-highlight ms-4">
                      <p class="fw-bold mx-2">
                        Country Name :
                        <span id="countryName" class="fw-normal"></span>
                      </p>
                      <p class="fw-bold mx-2">
                        ISO Code :
                        <span id="countryIso" class="fw-normal"></span>
                      </p>
                      <p class="fw-bold mx-2">
                        Languge Code :
                        <span id="countryLanguge" class="fw-normal"></span>
                      </p>
                    </div>
                    <div class="d-flex p-2 bd-highlight ms-4">
                      <p class="fw-bold mx-2">
                        PATH :
                        <span id="countryPath" class="fw-normal"></span>
                      </p>
                      <p class="fw-bold mx-2">
                        URL :
                        <a
                          href="#"
                          target="_blank"
                          id="countryUrl"
                          class="fw-normal"
                        ></a>
                      </p>
                    </div>
                    <div
                      class="d-flex p-2 bd-highlight ms-4 justify-content-around"
                    >
                      <a
                        href="https://author-arcelik-prod-65.adobecqms.net/sites.html/content"
                        target="_blank"
                        id="aemImage"
                      >
                        <img
                          src="https://www.elasticpath.com/sites/default/files/2020-05/CMS_Page_Adobe_Experience_Manager_Logo.png"
                          class="rounded"
                          width="200px"
                          alt="aem"
                        />
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-5">
          <div class="col-sm">
            <div class="mb-3">
              <label for="exampleFormControlTextarea1" class="form-label"
                >Output</label
              >
              <textarea
                class="form-control"
                id="encodedUrl"
                rows="3"
                readonly
              ></textarea>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm">
            <button
              name="Copy All"
              id="copy"
              type="submit"
              class="btn btn-lg btn-danger mb-3"
            >
              Copy All
            </button>
          </div>
        </div>
        <div class="row skus">
          <div class="col-sm">
            <div id="holder"></div>
            <p id="status">Drag and Drop</p>
          </div>
        </div>
      </div>
    </div>

    <script>
      const convert = document.getElementById('convert');
      const copy = document.getElementById('copy');
      const textNode = document.getElementById('encodedUrl');
      const textArea = document.getElementById('url');
      const showEncoder = document.getElementById('url_encoder_button');
      const SortButton = document.getElementById('sort');
      const deleteDublicates = document.getElementById('deleteDublicate');
      const sortbyCommaButton = document.getElementById('SortComma');
      const impex1 = document.querySelectorAll('.impex1');
      const impex2 = document.getElementById('impex2');
      const impex3 = document.getElementById('impex3');
      const impex4 = document.getElementById('impex4');
      const skusButtonGroup = document.querySelectorAll('.skus');
      const impexButtonGroups = document.querySelectorAll('.impexs');
      const countryButtonGroup = document.querySelectorAll('.countrys');
      const showSkuButton = document.getElementById('sku');
      const showImpexButton = document.getElementById('impex');
      const showCountryButton = document.getElementById('country');
      const computedTitleMaker = document.getElementById('computedTitleMaker');
      const impexCatalog = document.getElementById('impexCatalog');
      const impexLanguge = document.getElementById('impexLanguge');

      //--------------------------------
      // Loading Animaton For Country Page

      const startLoadingAnimation = () => {
        document.getElementById('countryGroup').style.display = 'none';
        document.getElementById('animation').style.display = '';
      };
      const endLoadingAnimation = () => {
        document.getElementById('countryGroup').style.display = '';
        document.getElementById('animation').style.display = 'none';
      };

      // Show and Hide Buttons
      const ShowComponent = (componentName, displayStatus) => {
        typeof componentName === 'object'
          ? componentName.forEach(
              (group) => (group.style.display = `${displayStatus}`)
            )
          : (componentName.style.display = `${displayStatus}`);
      };
      //------------------------------
      const showSkuGroup = () => {
        showSkuButton.classList = 'nav-item text-danger h4 nav-link active';
        showImpexButton.classList = 'nav-item h5 nav-link ';
        showCountryButton.classList = 'nav-item h5 nav-link ';

        ShowComponent(skusButtonGroup, '');
        ShowComponent(impexButtonGroups, 'none');
        ShowComponent(countryButtonGroup, 'none');

        ShowComponent([textArea, textNode, copy], '');
        ShowComponent(document.querySelectorAll('.form-label'), '');
      };
      const showImpexGroup = () => {
        showSkuButton.classList = 'nav-item h5 nav-link';
        showImpexButton.classList = 'nav-item text-danger h4 nav-link active ';
        showCountryButton.classList = 'nav-item h5 nav-link ';

        ShowComponent(skusButtonGroup, 'none');
        ShowComponent(impexButtonGroups, '');
        ShowComponent(countryButtonGroup, 'none');

        ShowComponent([textArea, textNode, copy], '');
        ShowComponent(document.querySelectorAll('.form-label'), '');
      };
      const showCountryGroup = () => {
        showSkuButton.classList = 'nav-item h5 nav-link';
        showImpexButton.classList = 'nav-item h5 nav-link  ';
        showCountryButton.classList = 'nav-item text-danger h4 nav-link active';

        ShowComponent(skusButtonGroup, 'none');
        ShowComponent(impexButtonGroups, 'none');
        ShowComponent(countryButtonGroup, '');

        ShowComponent([textArea, textNode, copy], 'none');
        ShowComponent(document.querySelectorAll('.form-label'), 'none');
      };
      //-----------------------------------START PAGE
      showCountryGroup();
      endLoadingAnimation();
      //----------------------------------------------------------------
      let arrayOfLines = [];
      let newArray = [];
      var holder = document.getElementById('holder'),
        state = document.getElementById('status');

      const splitLine = () => {
        arrayOfLines = [];
        arrayOfLines = textArea.value.split('\n');
        return arrayOfLines;
      };

      const encodetoArray = (arr) => {
        let newArr = [];
        arr.forEach((element) => {
          newArr.push(encodeURI(element));
        });
        return newArr;
      };

      const sortSKU = (a) => {
        let arr = splitLine();
        let sku = '';
        arr.map((value) => {
          sku = sku + value + a;
        });

        return sku;
      };

      const delDuplicates = (array) =>
        array.filter((item, index) => array.indexOf(item) === index);

      const versusSKu = () => {
        let arr = splitLine();
      };
      //----------------------------------- SKU ; SKU
      const showSKU = () => {
        let sku = sortSKU(';');
        write(sku, textNode);
      };
      //------------------------------------ SKU , SKU
      const showSKUComma = () => {
        let sku = sortSKU(',');
        write(sku, textNode);
      };
      //------------------------------------ dublicate delete
      const noDublicate = () => {
        let arr = splitLine();
        arr = delDuplicates(arr);
        write(arr, textNode);
        copyOnchange();
      };

      //-------------------------------------- Full Impex Template
      const makeFullImpex = (type, catalog, languge) => {
        let str = '';
        if (type === 'categories') {
          str = `$productCatalog = ${catalog}-aemProductCatalog
$productCatalogVersion = Staged
$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default=$productCatalogVersion])[unique=true,default=$productCatalog:$productCatalogVersion]
$lang = ${languge}

UPDATE Category;code[unique=true];name[lang = $lang];$catalogVersion

`;
        } else if (type === 'att') {
          str = `$classSystemVersion = systemVersion(catalog(id[default = '${catalog}-aemClassificationSystem']), version[default = '1.0'])[unique = true]
$lang = ${languge}

UPDATE ClassificationAttribute; code[unique = true]; name[lang = $lang]; $classSystemVersion

`;
        } else if (type === 'att_val') {
          str = `$classSystemVersion = systemVersion(catalog(id[default = '${catalog}-aemClassificationSystem']), version[default = '1.0'])[unique = true]
$lang = ${languge}

UPDATE ClassificationAttributeValue; code[unique = true]; name[lang = $lang]; $classSystemVersion

`;
        } else if (type === 'classification') {
          str = `$classCatalogVersion = catalogversion(catalog(id[default = '${catalog}-aemClassificationSystem']), version[default = '1.0'])[unique = true, default = '${catalog}-aemClassificationSystem:1.0']
$lang = ${languge}

UPDATE ClassificationClass; code[unique = true]; name[lang = $lang];$classCatalogVersion

`;
        } else if (type === 'computed_title') {
          str = `$productCatalogName         =   ${catalog}-aemProductCatalog
$productCatalogVersionName  =   Staged
$productCatalogVersion      =   catalogVersion(catalog(id[default=$productCatalogName]),version[default=$productCatalogVersionName])[unique=true,default=$productCatalogName:$productCatalogVersionName]
$lang = ${languge}

UPDATE Category;code[unique=true];productTitleTemplate[lang = $lang];$productCatalogVersion

`;
        } else if (type === 'cons_cent') {
          str = `$catalogVersion=catalogVersion(catalog(id[default='${catalog}-aemProductCatalog']),version[default='Staged'])[unique=true,default='${catalog}-aemProductCatalog:Staged']
$lang = ${languge}

UPDATE QuickInfo; code[unique = true]; title[lang = $lang];subtitle[lang = $lang];$catalogVersion

`;
        } else if (type === 'cons_cent_range') {
          str = `$catalogVersion=catalogVersion(catalog(id[default='${catalog}-aemProductCatalog']),version[default='Staged'])[unique=true,default='${catalog}-aemProductCatalog:Staged']
$lang = ${languge}

UPDATE QuickInfoRange; code[unique = true]; title[lang = $lang];$catalogVersion

`;
        } else if (type === 'facet') {
          str = `
$solrIndexedType = ${catalog}-aemProduct

# Language
$lang=${languge}

# Solr Indexed Property
UPDATE SolrIndexedProperty;solrIndexedType(identifier)[unique=true];name[unique=true];displayName[lang=$lang]

`;
        } else if (type === 'tech') {
          str = `$productCatalogName         =   ${catalog}-aemProductCatalog
$productCatalogVersionName  =   Staged
$productCatalogVersion      =   catalogVersion(catalog(id[default=$productCatalogName]),version[default=$productCatalogVersionName])[unique=true,default=$productCatalogName:$productCatalogVersionName]
$lang = ${languge}

#code,name,loong desc,short desc,plp desc,
UPDATE Technology; code[unique = true];name[lang = $lang];description[lang = $lang];text[lang = $lang];plpdescription[lang = $lang];$productCatalogVersion

`;
        }

        return str;
      };

      //------------------------------------ Impex-1
      const makeImpex1 = (types, catalog, languge) => {
        let arr = splitLine();
        let impex = impexMaker(arr, 1);
        console.log(1, impex);
        let standart = makeFullImpex(types, catalog, languge);
        write(impex, textNode, standart);
        copyOnchange();
      };
      //------------------------------------ Impex-2
      const makeImpex2 = (types, catalog, languge) => {
        console.log('type :', types);
        console.log('catalog :', catalog);
        console.log('languge :', languge);
        let arr = splitLine();
        let impex = impexMaker(arr, 1);
        let standart = makeFullImpex(types, catalog, languge);
        write(impex, textNode, standart);
        copyOnchange();
      };
      //------------------------------------ Impex-3
      const makeImpex3 = (types, catalog, languge) => {
        let arr = splitLine();
        let impex = impexMaker(arr, 2);
        let standart = makeFullImpex(types, catalog, languge);
        write(impex, textNode, standart);
        copyOnchange();
      };
      //--------------------------------------- Impex-4
      const makeImpex4 = (types, catalog, languge) => {
        let arr = splitLine();
        let impex = impexMaker(arr, 3);
        let standart = makeFullImpex(types, catalog, languge);
        write(impex, textNode, standart);
        copyOnchange();
      };
      //--------------------------------------
      const makeComputedTitle = (types, catalog, languge) => {
        let arr = splitLine();
        let impex = impexMaker(arr, 5);
        let standart = makeFullImpex(types, catalog, languge);
        write(impex, textNode, standart);
        copyOnchange();
      };

      const impexMaker = (arr, impexType) => {
        let impexRule1 = (str) => {
          return (str = `;${str[0]};"${str[1]}${str[2] ? ' ' + str[2] : ''}";`);
        };
        const spStr = `'') `;

        const metricChanger = (value, static, elmnt1, elmnt2) => {
          let res = '';
          elmnt1 !== '-' || elmnt2 !== ''
            ? (res = value.replace(`${static}${elmnt1}`, elmnt2))
            : (res = value);
          return res;
        };

        let impex = arr.map((str) => {
          str = str.split(/\t/);
          if (str.length === 1) {
            return '';
          } else {
            if (impexType == 5) {
              str[1] = str[1].replace(str[2], str[3]);
              str[1] = metricChanger(str[1], spStr, str[4], str[5]);
              str[1] = metricChanger(str[1], spStr, str[6], str[7]);
              let result = [str[0], str[1]];
              console.log(impexRule1(result));
              return impexRule1(result);
            }
            if (impexType === 1) {
              return (str = `;${str[0]};"${str[1]}${
                str[2] ? ' ' + str[2] : ''
              }";`);
            } else if (impexType === 2) {
              return (str = `;${str[0] ? str[0] : ''};"${
                str[1] ? str[1] : ''
              }";"${str[2] ? str[2] : ''}";`);
            } else if (impexType === 3) {
              return (str = `;$solrIndexedType;${str[0]};"${str[1]}${
                str[2] ? ' ' + str[2] : ''
              }";`);
            }
          }
        });

        return impex;
      };

      //---------------------------------------------------------------

      const showUrl = () => {
        let arr = splitLine();
        let encodedarr = encodetoArray(arr);
        write(encodedarr, textNode);
      };
      const write = (Arr, txtArea, standart) => {
        let text = standart;
        typeof Arr !== 'string'
          ? Arr.forEach((element) => {
              element === ''
                ? element
                : text === ''
                ? (text = `${element}`)
                : (text = `${text}\n${element}`);
            })
          : (text = Arr);
        txtArea.value = text;
      };

      const calculate = (area) => {
        result = area.value.split('\n');
        result = result.filter((item) => item !== '');
        return result.length;
      };

      const count = (txtArea, btn) => {
        let number = calculate(txtArea);

        btn.textContent = `${btn.name} (${number})`;
      };

      const copyClipboard = () => {
        textNode.select();
        //textNode.setSelectionRange(0, 9999999999999); /* For mobile devices */
        setTimeout(() => document.execCommand('copy'), 300);
      };
      const convertOnchange = () => {
        count(textArea, convert);
        count(textArea, deleteDublicates);
      };
      const copyOnchange = () => {
        count(textNode, copy);
      };

      convert.addEventListener('click', showUrl);
      copy.addEventListener('click', copyClipboard);
      textArea.addEventListener('keyup', convertOnchange);
      convert.addEventListener('click', copyOnchange);
      SortButton.addEventListener('click', showSKU);
      deleteDublicates.addEventListener('click', noDublicate);
      sortbyCommaButton.addEventListener('click', showSKUComma);
      impex1.forEach((button) =>
        button.addEventListener('click', (e) =>
          makeImpex1(
            e.currentTarget.value,
            impexCatalog.value,
            impexLanguge.value
          )
        )
      );
      impex2.addEventListener('click', (e) =>
        makeImpex2(
          e.currentTarget.value,
          impexCatalog.value,
          impexLanguge.value
        )
      );
      impex3.addEventListener('click', (e) =>
        makeImpex3(
          e.currentTarget.value,
          impexCatalog.value,
          impexLanguge.value
        )
      );
      impex4.addEventListener('click', (e) =>
        makeImpex4(
          e.currentTarget.value,
          impexCatalog.value,
          impexLanguge.value
        )
      );
      computedTitleMaker.addEventListener('click', (e) =>
        makeComputedTitle(
          e.currentTarget.value,
          impexCatalog.value,
          impexLanguge.value
        )
      );
      //----
      showCountryButton.addEventListener('click', showCountryGroup);
      showSkuButton.addEventListener('click', showSkuGroup);
      showImpexButton.addEventListener('click', showImpexGroup);
      //-------------------------------DEV-------------------------------------------------

      if (typeof window.FileReader === 'undefined') {
        state.className = 'fail';
      } else {
        state.className = 'success';
        state.innerHTML = 'Drop to .txt File';
      }

      holder.ondragover = function () {
        this.className = 'hover';
        return false;
      };
      holder.ondragend = function () {
        this.className = '';
        return false;
      };
      holder.ondrop = function (e) {
        this.className = '';
        e.preventDefault();

        var file = e.dataTransfer.files[0],
          reader = new FileReader();
        reader.onload = function (event) {
          textArea.value = event.target.result;
          setTimeout(convertOnchange, 50);
        };
        reader.readAsText(file);
        //setTimeout(splitLine, 100);
        //setTimeout(copyOnchange, 101);
        return false;
      };

      function autocomplete(inp, arr) {
        /*the autocomplete function takes two arguments,
      the text field element and an array of possible autocompleted values:*/
        var currentFocus;
        /*execute a function when someone writes in the text field:*/
        inp.addEventListener('input', function (e) {
          var a,
            b,
            i,
            val = this.value;
          /*close any already open lists of autocompleted values*/
          closeAllLists();
          if (!val) {
            return false;
          }
          currentFocus = -1;
          /*create a DIV element that will contain the items (values):*/
          a = document.createElement('DIV');
          a.setAttribute('id', this.id + 'autocomplete-list');
          a.setAttribute('class', 'autocomplete-items');
          /*append the DIV element as a child of the autocomplete container:*/
          this.parentNode.appendChild(a);
          /*for each item in the array...*/
          for (i = 0; i < arr.length; i++) {
            /*check if the item starts with the same letters as the text field value:*/
            if (
              arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()
            ) {
              /*create a DIV element for each matching element:*/
              b = document.createElement('DIV');
              /*make the matching letters bold:*/
              b.innerHTML =
                '<strong>' + arr[i].substr(0, val.length) + '</strong>';
              b.innerHTML += arr[i].substr(val.length);
              /*insert a input field that will hold the current array item's value:*/
              b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
              /*execute a function when someone clicks on the item value (DIV element):*/
              b.addEventListener('click', function (e) {
                /*insert the value for the autocomplete text field:*/
                inp.value = this.getElementsByTagName('input')[0].value;
                getCountryByName(inp.value);
                /*close the list of autocompleted values,
                  (or any other open lists of autocompleted values:*/
                closeAllLists();
              });
              a.appendChild(b);
            }
          }
        });
        /*execute a function presses a key on the keyboard:*/
        inp.addEventListener('keydown', function (e) {
          var x = document.getElementById(this.id + 'autocomplete-list');
          if (x) x = x.getElementsByTagName('div');
          if (e.keyCode == 40) {
            /*If the arrow DOWN key is pressed,
            increase the currentFocus variable:*/
            currentFocus++;
            /*and and make the current item more visible:*/
            addActive(x);
          } else if (e.keyCode == 38) {
            //up
            /*If the arrow UP key is pressed,
            decrease the currentFocus variable:*/
            currentFocus--;
            /*and and make the current item more visible:*/
            addActive(x);
          } else if (e.keyCode == 13) {
            /*If the ENTER key is pressed, prevent the form from being submitted,*/
            e.preventDefault();
            if (currentFocus > -1) {
              /*and simulate a click on the "active" item:*/
              if (x) x[currentFocus].click();
            }
          }
        });
        function addActive(x) {
          /*a function to classify an item as "active":*/
          if (!x) return false;
          /*start by removing the "active" class on all items:*/
          removeActive(x);
          if (currentFocus >= x.length) currentFocus = 0;
          if (currentFocus < 0) currentFocus = x.length - 1;
          /*add class "autocomplete-active":*/
          x[currentFocus].classList.add('autocomplete-active');
        }
        function removeActive(x) {
          /*a function to remove the "active" class from all autocomplete items:*/
          for (var i = 0; i < x.length; i++) {
            x[i].classList.remove('autocomplete-active');
          }
        }
        function closeAllLists(elmnt) {
          /*close all autocomplete lists in the document,
        except the one passed as an argument:*/
          var x = document.getElementsByClassName('autocomplete-items');
          for (var i = 0; i < x.length; i++) {
            if (elmnt != x[i] && elmnt != inp) {
              x[i].parentNode.removeChild(x[i]);
            }
          }
        }
        /*execute a function when someone clicks in the document:*/
        document.addEventListener('click', function (e) {
          closeAllLists(e.target);
        });
      }

      //--------------------------------------------------------------------------
      var countries = [
        'Afghanistan',
        'Albania',
        'Algeria',
        'Andorra',
        'Angola',
        'Anguilla',
        'Antigua &amp; Barbuda',
        'Argentina',
        'Armenia',
        'Aruba',
        'Australia',
        'Austria',
        'Azerbaijan',
        'Bahamas',
        'Bahrain',
        'Bangladesh',
        'Barbados',
        'Belarus',
        'Belgium',
        'Belize',
        'Benin',
        'Bermuda',
        'Bhutan',
        'Bolivia',
        'Bosnia &amp; Herzegovina',
        'Botswana',
        'Brazil',
        'British Virgin Islands',
        'Brunei',
        'Bulgaria',
        'Burkina Faso',
        'Burundi',
        'Cambodia',
        'Cameroon',
        'Canada',
        'Cape Verde',
        'Cayman Islands',
        'Central Arfrican Republic',
        'Chad',
        'Chile',
        'China',
        'Colombia',
        'Congo',
        'Cook Islands',
        'Costa Rica',
        'Cote D Ivoire',
        'Croatia',
        'Cuba',
        'Curacao',
        'Cyprus',
        'Czech Republic',
        'Denmark',
        'Djibouti',
        'Dominica',
        'Dominican Republic',
        'Ecuador',
        'Egypt',
        'El Salvador',
        'Equatorial Guinea',
        'Eritrea',
        'Estonia',
        'Ethiopia',
        'Falkland Islands',
        'Faroe Islands',
        'Fiji',
        'Finland',
        'France',
        'French Polynesia',
        'French West Indies',
        'Gabon',
        'Gambia',
        'Georgia',
        'Germany',
        'Ghana',
        'Gibraltar',
        'Greece',
        'Greenland',
        'Grenada',
        'Guam',
        'Guatemala',
        'Guernsey',
        'Guinea',
        'Guinea Bissau',
        'Guyana',
        'Haiti',
        'Honduras',
        'Hong Kong',
        'Hungary',
        'Iceland',
        'India',
        'Indonesia',
        'Iran',
        'Iraq',
        'Ireland',
        'Isle of Man',
        'Israel',
        'Italy',
        'Jamaica',
        'Japan',
        'Jersey',
        'Jordan',
        'Kazakhstan',
        'Kenya',
        'Kiribati',
        'Kosovo',
        'Kuwait',
        'Kyrgyzstan',
        'Laos',
        'Latvia',
        'Lebanon',
        'Lesotho',
        'Liberia',
        'Libya',
        'Liechtenstein',
        'Lithuania',
        'Luxembourg',
        'Macau',
        'Macedonia',
        'Madagascar',
        'Malawi',
        'Malaysia',
        'Maldives',
        'Mali',
        'Malta',
        'Marshall Islands',
        'Mauritania',
        'Mauritius',
        'Mexico',
        'Micronesia',
        'Moldova',
        'Monaco',
        'Mongolia',
        'Montenegro',
        'Montserrat',
        'Morocco',
        'Mozambique',
        'Myanmar',
        'Namibia',
        'Nauro',
        'Nepal',
        'Netherlands',
        'Netherlands Antilles',
        'New Caledonia',
        'New Zealand',
        'Nicaragua',
        'Niger',
        'Nigeria',
        'North Korea',
        'Norway',
        'Oman',
        'Pakistan',
        'Palau',
        'Palestine',
        'Panama',
        'Papua New Guinea',
        'Paraguay',
        'Peru',
        'Philippines',
        'Poland',
        'Portugal',
        'Puerto Rico',
        'Qatar',
        'Reunion',
        'Romania',
        'Russia',
        'Rwanda',
        'Saint Pierre &amp; Miquelon',
        'Samoa',
        'San Marino',
        'Sao Tome and Principe',
        'Saudi Arabia',
        'Senegal',
        'Serbia',
        'Seychelles',
        'Sierra Leone',
        'Singapore',
        'Slovakia',
        'Slovenia',
        'Solomon Islands',
        'Somalia',
        'South Africa',
        'South Korea',
        'South Sudan',
        'Spain',
        'Sri Lanka',
        'St Kitts &amp; Nevis',
        'St Lucia',
        'St Vincent',
        'Sudan',
        'Suriname',
        'Swaziland',
        'Sweden',
        'Switzerland',
        'Syria',
        'Taiwan',
        'Tajikistan',
        'Tanzania',
        'Thailand',
        "Timor L'Este",
        'Togo',
        'Tonga',
        'Trinidad &amp; Tobago',
        'Tunisia',
        'Turkey',
        'Turkmenistan',
        'Turks &amp; Caicos',
        'Tuvalu',
        'Uganda',
        'Ukraine',
        'United Arab Emirates',
        'United Kingdom',
        'United States of America',
        'Uruguay',
        'Uzbekistan',
        'Vanuatu',
        'Vatican City',
        'Venezuela',
        'Vietnam',
        'Virgin Islands (US)',
        'Yemen',
        'Zambia',
        'Zimbabwe',
      ];
      //-------
      const getCountryByName = (name) => {
        startLoadingAnimation();
        const url = `https://restcountries.eu/rest/v2/name/${name}`;
        fetch(url)
          .then((response) => response.json())
          .then((data) => getCountryInfo(data));
      };
      const getCountryByISO = (iso) => {
        const url = `https://restcountries.eu/rest/v2/name/${iso}`;
      };
      getCountryByName('usa');
      const getCountryInfo = (obj) => {
        obj = obj[0];
        const country = {
          flag: obj.flag,
          name: obj.name,
          iso: obj.alpha2Code,
          language: obj.languages[0].iso639_1,
          path: '/' + obj.alpha2Code + '-' + obj.languages[0].iso639_1,
          url: `https://www.beko.com/${obj.alpha2Code}-${obj.languages[0].iso639_1}`,
        };
        showCountryInfo(country);
        setTimeout(endLoadingAnimation, 500);
      };
      const showCountryInfo = (country) => {
        document.getElementById('countryFlag').src = country.flag;
        document.getElementById(
          'countryFlagUrl'
        ).href = country.url.toLowerCase();
        document.getElementById('countryName').innerHTML = country.name;
        document.getElementById('countryIso').innerHTML = country.iso;
        document.getElementById('countryLanguge').innerHTML = country.language;
        document.getElementById('countryPath').innerHTML = country.path;
        document.getElementById(
          'countryUrl'
        ).innerHTML = country.url.toLowerCase();
        document.getElementById('countryUrl').href = country.url.toLowerCase();
        document.getElementById(
          'aemImage'
        ).href = `https://author-arcelik-prod-65.adobecqms.net/sites.html/content/bekoglobal/${country.iso}/${country.language}`.toLowerCase();

        //import Link https://author-arcelik-prod-65.adobecqms.net/mnt/overlay/commerce/gui/content/catalogs/properties.html?item=/content/catalogs/bekoglobal/es-es
        //dam assets  https://author-arcelik-prod-65.adobecqms.net/assets.html/content/dam/angola-ao-aem/angola-ao-aemProductCatalog
      };

      autocomplete(document.getElementById('myInput'), countries);
    </script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
      integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
